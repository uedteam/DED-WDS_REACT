import{j as t}from"./jsx-runtime-DEdD30eg.js";import{r as i}from"./index-RYns6xqu.js";import"./auo-TMZ-BSoc.js";import{S as x}from"./arrow_down-DA-sWbvp.js";import"./usePosition-CMmoxCjh.js";const y=(s,n)=>{var u;const[e,a]=i.useState(!1),l=i.useRef(null),[r,o]=i.useState("0px"),c=!!((u=s.children)!=null&&u.length);return i.useEffect(()=>{const d=m=>m.reduce((p,h)=>h.children?p+42+d(h.children):p+42,0);if(l.current)if(e){const m=d(s.children||[]);o(`${m}px`)}else o("0px")},[e,s.children]),i.useEffect(()=>{n&&a(!1)},[n]),{isOpen:e,setIsOpen:a,contentRef:l,maxHeight:r,hasChildren:c}},g=s=>{var d;const{item:n,isCollapsed:e,color:a}=s,{isOpen:l,setIsOpen:r,contentRef:o,maxHeight:c,hasChildren:u}=y(n,e);return t.jsxs("li",{children:[t.jsxs("div",{className:"menu-item",children:[t.jsxs("div",{style:{color:a},className:"menu-item-content",onClick:()=>{n.path&&console.log("go to",n.path)},children:[t.jsx("div",{className:"menu-item-content-icon",children:n.icon}),t.jsx("span",{className:"menu-item-content-title",style:{opacity:e?0:1},children:n.title})]}),!e&&u&&t.jsx(x,{width:24,height:24,fill:a,style:{transition:"transform 0.3s",transform:l?"rotate(180deg)":"rotate(0deg)"},onClick:()=>{r(!l)}})]}),t.jsx("ul",{ref:o,className:"menu-subitem",style:{maxHeight:c},children:u&&((d=n.children)==null?void 0:d.map((m,p)=>t.jsx(g,{item:m,isCollapsed:e,color:a},p)))})]})},f=s=>{const{menuData:n,isCollapsed:e,width:a="240px",color:l="#000000"}=s,r=i.useRef(null);return i.useEffect(()=>{r.current&&(r.current.style.width=e?"60px":a)},[e,a]),t.jsx("div",{className:"menu-container",children:t.jsx("nav",{ref:r,className:"nav",style:{width:e?"60px":"100%"},children:t.jsx("ul",{className:"nav-menu",children:n.map((o,c)=>t.jsx(g,{item:o,isCollapsed:e,color:l},c))})})})},C=f;try{f.displayName="Menu",f.__docgenInfo={description:"",displayName:"Menu",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},menuData:{defaultValue:null,description:"",name:"menuData",required:!0,type:{name:"ItemProps[]"}},isCollapsed:{defaultValue:null,description:"",name:"isCollapsed",required:!0,type:{name:"boolean"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}}}}}catch{}try{menu.displayName="menu",menu.__docgenInfo={description:"",displayName:"menu",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},menuData:{defaultValue:null,description:"",name:"menuData",required:!0,type:{name:"ItemProps[]"}},isCollapsed:{defaultValue:null,description:"",name:"isCollapsed",required:!0,type:{name:"boolean"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}}}}}catch{}export{C as M,f as a};
