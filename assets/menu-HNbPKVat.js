import{j as t}from"./jsx-runtime-DEdD30eg.js";import{r as a}from"./index-RYns6xqu.js";import{b as g}from"./auo-0es9FKg1.js";import"./usePosition-CMmoxCjh.js";const y=(i,n)=>{var c;const[e,s]=a.useState(!1),l=a.useRef(null),[r,o]=a.useState("0px"),d=!!((c=i.children)!=null&&c.length);return a.useEffect(()=>{const u=p=>p.reduce((m,h)=>h.children?m+42+u(h.children):m+42,0);if(l.current)if(e){const p=u(i.children||[]);o(`${p}px`)}else o("0px")},[e,i.children]),a.useEffect(()=>{n&&s(!1)},[n]),{isOpen:e,setIsOpen:s,contentRef:l,maxHeight:r,hasChildren:d}},x=i=>{var u;const{item:n,isCollapsed:e,color:s}=i,{isOpen:l,setIsOpen:r,contentRef:o,maxHeight:d,hasChildren:c}=y(n,e);return t.jsxs("li",{children:[t.jsxs("div",{style:{cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"8px",marginInline:"8px",padding:"8px",borderBottom:"1px solid #ccc",overflow:"hidden",whiteSpace:"nowrap"},children:[t.jsxs("div",{style:{flex:"1",display:"flex",justifyContent:"center",alignItems:"center",gap:"8px"},onClick:()=>{n.path&&console.log("go to",n.path)},children:[t.jsx("div",{style:{minWidth:"24px",display:"flex",justifyContent:"center",alignItems:"center"},children:n.icon}),t.jsx("span",{style:{flex:"1",opacity:e?0:1,transition:"opacity 0.3s",color:s},children:n.title})]}),!e&&c&&t.jsx(g,{width:24,height:24,fill:s,style:{transition:"transform 0.3s",transform:l?"rotate(180deg)":"rotate(0deg)"},onClick:()=>{r(!l)}})]}),t.jsx("ul",{ref:o,style:{marginLeft:"24px",maxHeight:d,overflow:"hidden",transition:"max-height 0.3s ease-in-out"},children:c&&((u=n.children)==null?void 0:u.map((p,m)=>t.jsx(x,{item:p,isCollapsed:e,color:s},m)))})]})},f=i=>{const{menuData:n,isCollapsed:e,width:s="240px",color:l="#000000"}=i,r=a.useRef(null);return a.useEffect(()=>{r.current&&(r.current.style.width=e?"60px":s)},[e,s]),t.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"8px",height:"100%"},children:t.jsx("nav",{ref:r,style:{width:e?"60px":"100%",transition:"width 0.3s ease-in-out",overflow:"hidden",height:"100%"},children:t.jsx("ul",{style:{listStyle:"none",padding:"0"},children:n.map((o,d)=>t.jsx(x,{item:o,isCollapsed:e,color:l},d))})})})},q=f;try{f.displayName="Menu",f.__docgenInfo={description:"",displayName:"Menu",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},menuData:{defaultValue:null,description:"",name:"menuData",required:!0,type:{name:"ItemProps[]"}},isCollapsed:{defaultValue:null,description:"",name:"isCollapsed",required:!0,type:{name:"boolean"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}}}}}catch{}try{menu.displayName="menu",menu.__docgenInfo={description:"",displayName:"menu",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},menuData:{defaultValue:null,description:"",name:"menuData",required:!0,type:{name:"ItemProps[]"}},isCollapsed:{defaultValue:null,description:"",name:"isCollapsed",required:!0,type:{name:"boolean"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}}}}}catch{}export{q as M,f as a};
